<!DOCTYPE html>
<html>
<head>
    <title>My Page</title>
</head>
<body>
    <script>
        var pathArray = window.location.search;
        var spliturl = pathArray.split('?');
        var idParam = '';
        var classParam = '';

        if (spliturl.length > 1) {
            var paramsArray = spliturl[1].split('&');
            for (var i = 0; i < paramsArray.length; i++) {
                var param = paramsArray[i].split('=');
                if (param[0] === 'id') {
                    idParam = param[1];
                } else if (param[0] === 'class') {
                    classParam = param[1];
                }
            }
        }

        console.log('Text:', spliturl[0]); // Text before '?'
        console.log('ID parameter:', idParam); // Value of '?id='
        console.log('Class parameter:', classParam); // Value of '?class='

        var url = "https://getsuperembed.link/?video_id=" + idParam + classParam;

        fetch(url)
        .then(response => {
            if (!response.ok) {
            throw new Error('Network response was not ok');
            }
            return response.json();  // Parse the JSON from the response
        })
        .then(data => {
            const resultVar = data;  // Store the data in a variable
            console.log('Fetched data:', resultVar);  // Log the fetched data
        })
        .catch(error => console.error('Fetch error:', error));  // Handle any errors

    </script>
</body>
</html>
